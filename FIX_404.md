# Vercel 404エラー修正

## 問題
Vercelにデプロイ後、404エラーが発生している。

## 修正内容

### 1. vercel.jsonの修正
- `rewrites`設定を確認・修正
- 静的ファイルのキャッシュ設定を追加

### 2. vite.config.tsの修正
- `base: '/'`を明示的に設定
- `emptyOutDir: true`を追加

## 再デプロイ手順

### ステップ1: 変更をコミット・プッシュ

```bash
cd C:\devlop\job_assistance
git add vercel.json vite.config.ts
git commit -m "Fix Vercel 404 error"
git push
```

### ステップ2: Vercelで再デプロイ

```bash
vercel --prod
```

または、GitHub連携を使用している場合、自動的に再デプロイされます。

## 確認事項

### 1. ビルドが成功しているか確認

```bash
npm run build
```

`dist`ディレクトリに`index.html`が生成されているか確認してください。

### 2. デプロイログを確認

```bash
vercel logs
```

エラーがないか確認してください。

### 3. ビルド出力を確認

Vercel Dashboard → Deployments → 最新のデプロイメント → Build Logs を確認してください。

## 追加のトラブルシューティング

### 問題1: まだ404エラーが発生する場合

1. **vercel.jsonを削除して再デプロイ**
   VercelはViteプロジェクトを自動検出するので、`vercel.json`を削除して自動検出に任せることもできます。

2. **ビルド出力を確認**
   ```bash
   npm run build
   ls -la dist/
   ```
   `dist/index.html`が存在することを確認してください。

3. **Vercel Dashboardで確認**
   - Project Settings → General → Build & Development Settings
   - Output Directory が `dist` になっているか確認
   - Build Command が `npm run build` になっているか確認

### 問題2: アセット（CSS、JS）が読み込まれない場合

1. **baseパスの確認**
   `vite.config.ts`で`base: '/'`が正しく設定されているか確認してください。

2. **アセットパスの確認**
   ビルド後の`dist/index.html`でアセットパスが正しいか確認してください。

## 推奨設定

### vercel.json（最小限）

```json
{
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}
```

VercelはViteプロジェクトを自動検出するので、上記の最小限の設定で動作するはずです。

